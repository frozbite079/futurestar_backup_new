{% extends 'base.html' %}

{% load static %}
{% load sass_tags %}


{% block title %}System Settings{% endblock %}

{% block content %}
{% include "components/loader.html" %}
<!--<head>
    <link rel="stylesheet"href = "{% static 'assets/css/links.css' %}" >
</head>-->
{% block css %}
<!-- Plugins css start-->
<!-- Plugins css Ends-->
<style>
/* Modal styles */
.modal {
    display: none; 
    position: fixed; 
    z-index: 1; 
    left: 0;
    top: 0;
    width: 100%; 
    height: 100%; 
    overflow: auto; 
    background-color: rgba(0,0,0,0.4); /* Semi-transparent background */
    padding-top: 60px; /* Space at the top for the modal */
}

.modal-content {
    background-color: #fefefe;
    margin: auto; 
    padding: 20px;
    border: 1px solid #888;
    width: 50%; /* Adjust width as needed */
    max-width: 600px; /* Max width for large screens */
    position: relative; /* To position the close button correctly */
    top: 50%; /* Move to the center of the screen */
    transform: translateY(-50%); /* Adjust for vertical centering */
}

.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
}

.close:hover,
.close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
}
</style>
{% endblock %}

<div class="page-body">
    <div class="container-fluid">
        {% include "layouts/breadcrumb.html" %}
        <div class="card">
            <form class="form theme-form" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="card-body">
                    <!-- Website Name (English) -->
                    <div class="row">
                        <div class="col-6">
                            <div class="mb-3">
                                <label class="form-label" for="website_name_english">Website Name (English)</label>
                                <input class="form-control btn-pill {% if errors.website_name_english %}is-invalid{% endif %}" id="website_name_english" name="website_name_english" type="text" value="{{ system_settings.website_name_english }}" placeholder="Website Name (English)">
                                {% if errors.website_name_english %}
                                    <div class="invalid-feedback">{{ errors.website_name_english }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <!-- Website Name (Arabic) -->
                        <div class="col-6">
                            <div class="mb-3">
                                <label class="form-label" for="website_name_arabic">Website Name (Arabic)</label>
                                <input class="form-control btn-pill {% if errors.website_name_arabic %}is-invalid{% endif %}" id="website_name_arabic" name="website_name_arabic" type="text" value="{{ system_settings.website_name_arabic }}" placeholder="Website Name (Arabic)">
                                {% if errors.website_name_arabic %}
                                    <div class="invalid-feedback">{{ errors.website_name_arabic }}</div>
                                {% endif %}
                            </div>
                        </div>
                    </div>

                    <!-- Phone Number -->
                    <div class="row">
                        <div class="col-6">
                            <div class="mb-3">
                                <label class="form-label" for="phone">Phone Number</label>
                                <input class="form-control btn-pill {% if errors.phone %}is-invalid{% endif %}" id="phone" name="phone" type="text" value="{{ system_settings.phone }}" placeholder="Phone Number">
                                {% if errors.phone %}
                                    <div class="invalid-feedback">{{ errors.phone }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <!-- Email Address -->
                        <div class="col-6">
                            <div class="mb-3">
                                <label class="form-label" for="email">Email Address</label>
                                <input class="form-control btn-pill {% if errors.email %}is-invalid{% endif %}" id="email" name="email" type="email" value="{{ system_settings.email }}" placeholder="Email Address">
                                {% if errors.email %}
                                    <div class="invalid-feedback">{{ errors.email }}</div>
                                {% endif %}
                            </div>
                        </div>
                    </div>

                    <!-- Address -->
                    <div class="row">
                        <div class="col">
                            <div class="mb-3">
                                <label class="form-label" for="address">Address</label>
                                <textarea class="form-control btn-pill" id="address" name="address" rows="3" placeholder="Address">{{ system_settings.address }}</textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Favicon -->
                    <div class="row">
                        <div class="col-4">
                            <div class="mb-3">
                                <label class="form-label" for="fav_icon">Fav Icon (64x64 px)</label>
                                <input class="form-control btn-pill" id="fav_icon" name="fav_icon" type="file">
                                {% if system_settings.fav_icon %}
                                    <img src="{{ MEDIA_URL }}{{ system_settings.fav_icon }}" alt="Fav Icon" style="width: 35px; height: 35px;">
                                {% endif %}
                            </div>
                        </div>
                        

                        <!-- Footer Logo -->
                        <div class="col-4">
                            <div class="mb-3">
                                <label class="form-label" for="footer_logo">Footer Logo (293x66 px)</label>
                                <input class="form-control btn-pill" id="footer_logo" name="footer_logo" type="file">
                                {% if system_settings.footer_logo %}
                                    <img src="{{ MEDIA_URL }}{{ system_settings.footer_logo }}" alt="Footer Logo" style="width: 121px; height: 35px;">
                                {% endif %}
                            </div>
                        </div>

                        <!-- Header Logo -->
                        <div class="col-4">
                            <div class="mb-3">
                                <label class="form-label" for="header_logo">Header Logo (249x56 px)</label>
                                <input class="form-control btn-pill" id="header_logo" name="header_logo" type="file">
                                {% if system_settings.header_logo %}
                                    <img src="{{ MEDIA_URL }}{{ system_settings.header_logo }}" alt="Header Logo" style="width: 121px; height: 35px;">
                                {% endif %}
                            </div>
                        </div>
                    </div>

                    <!-- Social Media Links -->
                    <!--<div class="row">
                        <div class="col">
                            <div class="mb-3">
                                <label class="form-label" for="instagram">Instagram</label>
                                <input class="form-control btn-pill" id="instagram" name="instagram" type="text" value="{{ system_settings.instagram }}" placeholder="Instagram URL">
                            </div>
                        </div>
                        <div class="col">
                            <div class="mb-3">
                                <label class="form-label" for="facebook">Facebook</label>
                                <input class="form-control btn-pill" id="facebook" name="facebook" type="text" value="{{ system_settings.facebook }}" placeholder="Facebook URL">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="mb-3">
                                <label class="form-label" for="snapchat">Snapchat</label>
                                <input class="form-control btn-pill" id="snapchat" name="snapchat" type="text" value="{{ system_settings.snapchat }}" placeholder="Snapchat URL">
                            </div>
                        </div>
                        <div class="col">
                            <div class="mb-3">
                                <label class="form-label" for="linkedin">LinkedIn</label>
                                <input class="form-control btn-pill" id="linkedin" name="linkedin" type="text" value="{{ system_settings.linkedin }}" placeholder="LinkedIn URL">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="mb-3">
                                <label class="form-label" for="youtube">YouTube</label>
                                <input class="form-control btn-pill" id="youtube" name="youtube" type="text" value="{{ system_settings.youtube }}" placeholder="YouTube URL">
                            </div>
                        </div>
                    </div>
                </div>-->
                    <div class="row mt-3">
                        <div class="col">
                            <button type="button" onclick = "return portfolio()" class="btn btn-primary" id="addPortfolioBtn">Add Portfolio</button>
                        </div>
                    </div>
                </div>
                <div class="card-footer text-end">
                    <button class="btn btn-primary" type="submit">Save</button>
                    <input class="btn btn-light" type="reset" value="Cancel">
                </div>
            </form>
        </div>
    </div>
</div>

<div  id="portfolioModal" class="modal_port"></div>
    <div   class="modal-content-port">
        <span class="close">&times;</span>
        <h2 >Add Portfolio</h2>
        <form id="portfolioForm">
            <div class="mb-3">
                <label class="form-label" for="portfolio_name">Portfolio Name</label>
                <input class="form-control" id="portfolio_name" name="portfolio_name" type="text" placeholder="Portfolio Name">
            </div>
            <div class="mb-3">
                <label class="form-label" for="portfolio_link">Link</label>
                <input class="form-control" id="portfolio_link" name="portfolio_link" type="url" placeholder="Portfolio Link">
            </div>
            <div class="mb-3">
                <button type="submit" class="btn btn-primary">Add</button>
            </div>
        </form>
    </div>
</div>

{% endblock %}

{% block javascript %}
<script>
// Modal functionality
    function  portfolio(){
        var modal = document.getElementById("portfolioModal");
    var btn = document.getElementById("addPortfolioBtn");
    var span = document.getElementsByClassName("close")[0];

    btn.onclick = function() {
        modal.style.display = "block";
    }

    span.onclick = function() {
        modal.style.display = "none";
    }

    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }

    return false

}

</script>
{% endblock %}
